type: custom:button-card
name: LivingRoom
styles:
  grid:
    - grid-template-areas: "\"temp btn2 btn1\" \"n btn2 btn1\""
    - grid-template-columns: 1fr min-content min-content
    - grid-template-rows: 65% 1fr
  card:
    - height: 160px
    - padding: 6px
  name:
    - justify-self: start
    - align-self: start
    - font-size: 14px
    - padding-left: 20px
    - z-index: 2
  custom_fields:
    temp:
      - justify-self: start
      - align-self: end
      - font-size: 2.6em
      - font-weight: 300
      - paddin-left: 20px
      - z-index: 2
    graph:
      - position: absolute
      - width: 100%
      - left: 0
      - bottom: 0
custom_fields:
  btn2:
    card:
      type: custom:paper-buttons-row
      styles:
        display: flex
        flex-direction: none
        flex-wrap: nowrap
      buttons:
        - icon: mdi:power
          ripple: none
          entity: input_select.merkazi_mode
          name: false
          state_styles:
            "off":
              icon:
                color: "#7f7f7f"
          tap_action:
            action: call-service
            service: input_select.select_option
            target:
              entity_id: input_select.merkazi_mode
            service_data:
              option: "off"
          styles:
            icon:
              color: "#ffffff"
            button:
              background: "#444"
              border-radius: 50% 0 0 50%
              width: 34px
              height: 34px
              z-index: 1
        - icon: mdi:heat-wave
          ripple: none
          entity: input_select.merkazi_mode
          name: false
          state_styles:
            heat:
              icon:
                color: "#bf5252"
          tap_action:
            action: call-service
            service: input_select.select_option
            target:
              entity_id: input_select.merkazi_mode
            service_data:
              option: heat
          styles:
            icon:
              color: "#ffffff"
            button:
              background: "#444"
              border-radius: 0
              width: 34px
              height: 34px
              z-index: 1
        - icon: mdi:snowflake
          ripple: none
          entity: input_select.merkazi_mode
          name: false
          state_styles:
            cool:
              icon:
                color: "#0065ff"
          tap_action:
            action: call-service
            service: input_select.select_option
            target:
              entity_id: input_select.merkazi_mode
            service_data:
              option: cool
          styles:
            icon:
              color: "#ffffff"
            button:
              background: "#444"
              border-radius: 0
              width: 34px
              height: 34px
              z-index: 1
        - icon: mdi:fan-speed-3
          ripple: none
          tap_action:
            action: call-service
            service: input_select.select_next
            target:
              entity_id: input_select.merkazi_fan
            service_data:
              cycle: true
          entity: input_select.merkazi_fan
          name: false
          state_icons:
            one: mdi:fan-speed-1
            two: mdi:fan-speed-2
            three: mdi:fan-speed-3
          styles:
            icon:
              color: "#ffffff"
            button:
              background: "#444"
              border-radius: 0
              width: 34px
              height: 34px
              z-index: 1
              pointer-events: |
                [[[
                  return states['input_select.merkazi_mode'].state === 'off' ? 'none' : 'auto'
                ]]]
              opacity: |
                [[[
                  return states['input_select.merkazi_mode'].state === 'off' ? '0.8' : '1'
                ]]]
  btn1:
    card:
      type: custom:paper-buttons-row
      styles:
        display: flex
        flex-direction: column
        flex-wrap: wrap
      buttons:
        - icon: mdi:chevron-up
          ripple: none
          tap_action:
            action: call-service
            service: input_number.increment
            service_data:
              entity_id: input_number.merkazi_temp
          styles:
            icon:
              color: "#ffffff"
            button:
              background: "#444"
              border-radius: 50% 50% 0 0
              width: 38px
              height: 38px
              z-index: 1
              pointer-events: |
                [[[
                  return states['input_select.merkazi_mode'].state === 'off' ? 'none' : 'auto'
                ]]]
              opacity: |
                [[[
                  return states['input_select.merkazi_mode'].state === 'off' ? '0.8' : '1'
                ]]]
        - name: "{{ states['input_number.merkazi_temp'].state | round(0)}}°"
          ripple: none
          styles:
            name:
              color: "#ffffff"
            button:
              background: "#444"
              border-radius: 0
              width: 38px
              height: 38px
              z-index: 1
              pointer-events: |
                [[[
                  return states['input_select.merkazi_mode'].state === 'off' ? 'none' : 'auto'
                ]]]
              opacity: |
                [[[
                  return states['input_select.merkazi_mode'].state === 'off' ? '0.8' : '1'
                ]]]
        - icon: mdi:chevron-down
          ripple: none
          tap_action:
            action: call-service
            service: input_number.decrement
            service_data:
              entity_id: input_number.merkazi_temp
          styles:
            icon:
              color: "#ffffff"
            button:
              background: "#444"
              border-radius: 0 0 50% 50%
              width: 38px
              height: 38px
              z-index: 1
              pointer-events: |
                [[[
                  return states['input_select.merkazi_mode'].state === 'off' ? 'none' : 'auto'
                ]]]
              opacity: |
                [[[
                  return states['input_select.merkazi_mode'].state === 'off' ? '0.8' : '1'
                ]]]
  graph:
    card:
      type: custom:mini-graph-card
      entities:
        - entity: sensor.temphumid01_tmprtvrh
          color: "#fffff"
      line_width: 0
      height: 60
      show:
        icon: false
        name: false
        state: false
        legend: false
        labels: false
        points: false
      card_mod:
        style: |
          ha-card (border-style: none; background: none)
  temp: |
    [[[
    return Number(states['sensor.temphumid01_tmprtvrh'].state).toFixed(0) + "° "
    + '<span style="font-size:14px;">' +
    Number(states['sensor.temphumid01_lkhvt'].state).toFixed(0) + "%</span>"
    ]]]
